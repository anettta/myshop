{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{clearErrors,getProductDetails}from\"../../actions/productAction\";import{useAlert}from\"react-alert\";import Loader from\"../layout/Loader\";import MetaData from\"../layout/MetaData\";import{useParams}from\"react-router-dom\";import{Carousel}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(){var dispatch=useDispatch();var alert=useAlert();var params=useParams();var _useSelector=useSelector(function(state){return state.productDetails;}),loading=_useSelector.loading,error=_useSelector.error,product=_useSelector.product;useEffect(function(){dispatch(getProductDetails(params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,params.id]);return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"row f-flex justify-content-around\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-5 img-fluid\",id:\"product_image\",children:/*#__PURE__*/_jsx(Carousel,{pause:\"hover\",children:product.images&&product.images.map(function(image){return/*#__PURE__*/_jsx(Carousel.Item,{children:/*#__PURE__*/_jsx(\"img\",{className:\"d-block w-100\",src:image.url,alt:product.title})},image.public_id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-5 mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.name}),/*#__PURE__*/_jsxs(\"p\",{id:\"product_id\",children:[\"Product # \",product._id]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"rating-outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-inner\",style:{width:\"\".concat(product.ratings/5*100,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{id:\"no_of_reviews\",children:[\"(\",product.numOfReviews,\" Reviews)\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{id:\"product_price\",children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:\"1\",readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"cart_btn\",className:\"btn btn-primary d-inline ml-4\",children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status:\",\" \",/*#__PURE__*/_jsx(\"span\",{id:\"stock_status\",className:product.stock>0?\"greenColor\":\"redColor\",children:product.stock>0?\"In Stock\":\"Out of Stock\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"p\",{children:product.description}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{id:\"product_seller mb-3\",children:[\"Sold by: \",/*#__PURE__*/_jsx(\"strong\",{children:product.seller})]}),/*#__PURE__*/_jsx(\"button\",{id:\"review_btn\",type:\"button\",className:\"btn btn-primary mt-4\",\"data-toggle\":\"modal\",\"data-target\":\"#ratingModal\",children:\"Submit Your Review\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-2 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating w-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"ratingModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"ratingModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",role:\"document\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"ratingModalLabel\",children:\"Submit Review\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"stars\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"star\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"star\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"star\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"star\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"star\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-star\"})})]}),/*#__PURE__*/_jsx(\"textarea\",{name:\"review\",id:\"review\",className:\"form-control mt-3\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn my-3 float-right review-btn px-4 text-white\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:\"Submit\"})]})]})})})})})]})]})]})});};export default ProductDetails;","map":{"version":3,"names":["React","Fragment","useEffect","useDispatch","useSelector","clearErrors","getProductDetails","useAlert","Loader","MetaData","useParams","Carousel","jsx","_jsx","jsxs","_jsxs","ProductDetails","dispatch","alert","params","_useSelector","state","productDetails","loading","error","product","id","children","title","name","className","pause","images","map","image","Item","src","url","alt","public_id","_id","style","width","concat","ratings","numOfReviews","price","type","value","readOnly","stock","description","seller","tabIndex","role"],"sources":["/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/src/components/product/ProductDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { clearErrors, getProductDetails } from \"../../actions/productAction\";\nimport { useAlert } from \"react-alert\";\nimport Loader from \"../layout/Loader\";\nimport MetaData from \"../layout/MetaData\";\nimport { useParams } from \"react-router-dom\";\nimport { Carousel } from \"react-bootstrap\";\n\nconst ProductDetails = () => {\n  const dispatch = useDispatch();\n\n  const alert = useAlert();\n  const params = useParams();\n\n  const { loading, error, product } = useSelector(\n    (state) => state.productDetails\n  );\n  useEffect(() => {\n    dispatch(getProductDetails(params.id));\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n  }, [dispatch, alert, error, params.id]);\n\n  return (\n    <Fragment>\n      {loading ? (\n        <Loader />\n      ) : (\n        <Fragment>\n          <MetaData title={product.name} />\n          <div className=\"row f-flex justify-content-around\">\n            <div className=\"col-12 col-lg-5 img-fluid\" id=\"product_image\">\n              <Carousel pause=\"hover\">\n                {product.images &&\n                  product.images.map((image) => (\n                    <Carousel.Item key={image.public_id}>\n                      <img\n                        className=\"d-block w-100\"\n                        src={image.url}\n                        alt={product.title}\n                      />\n                    </Carousel.Item>\n                  ))}\n              </Carousel>\n            </div>\n\n            <div className=\"col-12 col-lg-5 mt-5\">\n              <h3>{product.name}</h3>\n              <p id=\"product_id\">Product # {product._id}</p>\n\n              <hr />\n\n              <div className=\"rating-outer\">\n                <div\n                  className=\"rating-inner\"\n                  style={{ width: `${(product.ratings / 5) * 100}%` }}\n                ></div>\n              </div>\n              <span id=\"no_of_reviews\">({product.numOfReviews} Reviews)</span>\n\n              <hr />\n\n              <p id=\"product_price\">${product.price}</p>\n              <div className=\"stockCounter d-inline\">\n                <span className=\"btn btn-danger minus\">-</span>\n\n                <input\n                  type=\"number\"\n                  className=\"form-control count d-inline\"\n                  value=\"1\"\n                  readOnly\n                />\n\n                <span className=\"btn btn-primary plus\">+</span>\n              </div>\n              <button\n                type=\"button\"\n                id=\"cart_btn\"\n                className=\"btn btn-primary d-inline ml-4\"\n              >\n                Add to Cart\n              </button>\n\n              <hr />\n\n              <p>\n                Status:{\" \"}\n                <span\n                  id=\"stock_status\"\n                  className={product.stock > 0 ? \"greenColor\" : \"redColor\"}\n                >\n                  {product.stock > 0 ? \"In Stock\" : \"Out of Stock\"}\n                </span>\n              </p>\n\n              <hr />\n\n              <h4 className=\"mt-2\">Description:</h4>\n              <p>{product.description}</p>\n              <hr />\n              <p id=\"product_seller mb-3\">\n                Sold by: <strong>{product.seller}</strong>\n              </p>\n\n              <button\n                id=\"review_btn\"\n                type=\"button\"\n                className=\"btn btn-primary mt-4\"\n                data-toggle=\"modal\"\n                data-target=\"#ratingModal\"\n              >\n                Submit Your Review\n              </button>\n\n              <div className=\"row mt-2 mb-5\">\n                <div className=\"rating w-50\">\n                  <div\n                    className=\"modal fade\"\n                    id=\"ratingModal\"\n                    tabIndex=\"-1\"\n                    role=\"dialog\"\n                    aria-labelledby=\"ratingModalLabel\"\n                    aria-hidden=\"true\"\n                  >\n                    <div className=\"modal-dialog\" role=\"document\">\n                      <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                          <h5 className=\"modal-title\" id=\"ratingModalLabel\">\n                            Submit Review\n                          </h5>\n                          <button\n                            type=\"button\"\n                            className=\"close\"\n                            data-dismiss=\"modal\"\n                            aria-label=\"Close\"\n                          >\n                            <span aria-hidden=\"true\">&times;</span>\n                          </button>\n                        </div>\n                        <div className=\"modal-body\">\n                          <ul className=\"stars\">\n                            <li className=\"star\">\n                              <i className=\"fa fa-star\"></i>\n                            </li>\n                            <li className=\"star\">\n                              <i className=\"fa fa-star\"></i>\n                            </li>\n                            <li className=\"star\">\n                              <i className=\"fa fa-star\"></i>\n                            </li>\n                            <li className=\"star\">\n                              <i className=\"fa fa-star\"></i>\n                            </li>\n                            <li className=\"star\">\n                              <i className=\"fa fa-star\"></i>\n                            </li>\n                          </ul>\n\n                          <textarea\n                            name=\"review\"\n                            id=\"review\"\n                            className=\"form-control mt-3\"\n                          ></textarea>\n\n                          <button\n                            className=\"btn my-3 float-right review-btn px-4 text-white\"\n                            data-dismiss=\"modal\"\n                            aria-label=\"Close\"\n                          >\n                            Submit\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nexport default ProductDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}