{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAIL,CLEAR_ERRORS,REGISTER_USER_FAIL,REGISTER_USER_REQUEST,REGISTER_USER_SUCCESS,LOAD_USER_REQUEST,LOAD_USER_SUCCESS,LOAD_USER_FAIL,LOGOUT_SUCCESS,LOGOUT_FAIL}from\"../constants/userConstants\";// Login\nexport var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:LOGIN_REQUEST});config={headers:{\"Content-Type\":\"application/json\"}};_context.next=5;return axios.post(\"/api/v1/login\",{email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:LOGIN_SUCCESS,payload:data.user});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:LOGIN_FAIL,payload:_context.t0.response.data.message});case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};// Register user\nexport var register=function register(userData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:REGISTER_USER_REQUEST});config={headers:{\"Content-Type\":\"multipart/form-data\"}};_context2.next=5;return axios.post(\"/api/v1/register\",userData,config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:REGISTER_USER_SUCCESS,payload:data.user});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);dispatch({type:REGISTER_USER_FAIL,payload:_context2.t0.response.data.message});case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// Load user\nexport var loadUser=function loadUser(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:LOAD_USER_REQUEST});_context3.next=4;return axios.get(\"/api/v1/me\");case 4:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;dispatch({type:LOAD_USER_SUCCESS,payload:data.user});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:LOAD_USER_FAIL,payload:_context3.t0.response.data.message});case 12:case\"end\":return _context3.stop();}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};// Logout user\nexport var logoutUser=function logoutUser(){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"/api/v1/logout\");case 3:dispatch({type:LOGOUT_SUCCESS});_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);dispatch({type:LOGOUT_FAIL,payload:_context4.t0.response.data.message});case 9:case\"end\":return _context4.stop();}},_callee4,null,[[0,6]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};// clear errors\nexport var clearErrors=function clearErrors(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:dispatch({type:CLEAR_ERRORS});case 1:case\"end\":return _context5.stop();}},_callee5);}));return function(_x5){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"names":["axios","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","CLEAR_ERRORS","REGISTER_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","LOAD_USER_REQUEST","LOAD_USER_SUCCESS","LOAD_USER_FAIL","LOGOUT_SUCCESS","LOGOUT_FAIL","login","email","password","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","type","headers","post","sent","payload","user","t0","response","message","stop","_x","apply","arguments","register","userData","_ref2","_callee2","_yield$axios$post2","_callee2$","_context2","_x2","loadUser","_ref3","_callee3","_yield$axios$get","_callee3$","_context3","get","_x3","logoutUser","_ref4","_callee4","_callee4$","_context4","_x4","clearErrors","_ref5","_callee5","_callee5$","_context5","_x5"],"sources":["/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/src/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\n\nimport {\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  CLEAR_ERRORS,\n  REGISTER_USER_FAIL,\n  REGISTER_USER_REQUEST,\n  REGISTER_USER_SUCCESS,\n  LOAD_USER_REQUEST,\n  LOAD_USER_SUCCESS,\n  LOAD_USER_FAIL,\n  LOGOUT_SUCCESS,\n  LOGOUT_FAIL,\n} from \"../constants/userConstants\";\n\n// Login\nexport const login = (email, password) => async (dispatch) => {\n  try {\n    dispatch({ type: LOGIN_REQUEST });\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const { data } = await axios.post(\n      \"/api/v1/login\",\n      { email, password },\n      config\n    );\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: data.user,\n    });\n  } catch (error) {\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Register user\n\nexport const register = (userData) => async (dispatch) => {\n  try {\n    dispatch({ type: REGISTER_USER_REQUEST });\n    const config = {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    };\n    const { data } = await axios.post(\"/api/v1/register\", userData, config);\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user,\n    });\n  } catch (error) {\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Load user\n\nexport const loadUser = () => async (dispatch) => {\n  try {\n    dispatch({ type: LOAD_USER_REQUEST });\n\n    const { data } = await axios.get(\"/api/v1/me\");\n    dispatch({\n      type: LOAD_USER_SUCCESS,\n      payload: data.user,\n    });\n  } catch (error) {\n    dispatch({\n      type: LOAD_USER_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// Logout user\n\nexport const logoutUser = () => async (dispatch) => {\n  try {\n    await axios.get(\"/api/v1/logout\");\n    dispatch({\n      type: LOGOUT_SUCCESS,\n    });\n  } catch (error) {\n    dispatch({\n      type: LOGOUT_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\n// clear errors\nexport const clearErrors = () => async (dispatch) => {\n  dispatch({\n    type: CLEAR_ERRORS,\n  });\n};\n"],"mappings":"8SAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OACEC,aAAa,CACbC,aAAa,CACbC,UAAU,CACVC,YAAY,CACZC,kBAAkB,CAClBC,qBAAqB,CACrBC,qBAAqB,CACrBC,iBAAiB,CACjBC,iBAAiB,CACjBC,cAAc,CACdC,cAAc,CACdC,WAAW,KACN,4BAA4B,CAEnC;AACA,MAAO,IAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAIC,KAAK,CAAEC,QAAQ,oCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAAC,QAAOC,QAAQ,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAErDP,QAAQ,CAAC,CAAES,IAAI,CAAE7B,aAAc,CAAC,CAAC,CAC3BqB,MAAM,CAAG,CACbS,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SACsB,CAAA7B,KAAK,CAACgC,IAAI,CAC/B,eAAe,CACf,CAAElB,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CACnBO,MACF,CAAC,QAAAC,iBAAA,CAAAI,QAAA,CAAAM,IAAA,CAJOT,IAAI,CAAAD,iBAAA,CAAJC,IAAI,CAKZH,QAAQ,CAAC,CACPS,IAAI,CAAE5B,aAAa,CACnBgC,OAAO,CAAEV,IAAI,CAACW,IAChB,CAAC,CAAC,CAACR,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAEHN,QAAQ,CAAC,CACPS,IAAI,CAAE3B,UAAU,CAChB+B,OAAO,CAAEP,QAAA,CAAAS,EAAA,CAAMC,QAAQ,CAACb,IAAI,CAACc,OAC/B,CAAC,CAAC,CAAC,yBAAAX,QAAA,CAAAY,IAAA,MAAAnB,OAAA,iBAEN,mBAAAoB,EAAA,SAAAxB,IAAA,CAAAyB,KAAA,MAAAC,SAAA,UAED;AAEA,MAAO,IAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,QAAQ,oCAAAC,KAAA,CAAA5B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAK,SAAA2B,SAAOzB,QAAQ,MAAAC,MAAA,CAAAyB,kBAAA,CAAAvB,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAuB,UAAAC,SAAA,iBAAAA,SAAA,CAAArB,IAAA,CAAAqB,SAAA,CAAApB,IAAA,SAAAoB,SAAA,CAAArB,IAAA,GAEjDP,QAAQ,CAAC,CAAES,IAAI,CAAExB,qBAAsB,CAAC,CAAC,CACnCgB,MAAM,CAAG,CACbS,OAAO,CAAE,CACP,cAAc,CAAE,qBAClB,CACF,CAAC,CAAAkB,SAAA,CAAApB,IAAA,SACsB,CAAA7B,KAAK,CAACgC,IAAI,CAAC,kBAAkB,CAAEY,QAAQ,CAAEtB,MAAM,CAAC,QAAAyB,kBAAA,CAAAE,SAAA,CAAAhB,IAAA,CAA/DT,IAAI,CAAAuB,kBAAA,CAAJvB,IAAI,CACZH,QAAQ,CAAC,CACPS,IAAI,CAAEvB,qBAAqB,CAC3B2B,OAAO,CAAEV,IAAI,CAACW,IAChB,CAAC,CAAC,CAACc,SAAA,CAAApB,IAAA,kBAAAoB,SAAA,CAAArB,IAAA,IAAAqB,SAAA,CAAAb,EAAA,CAAAa,SAAA,aAEH5B,QAAQ,CAAC,CACPS,IAAI,CAAEzB,kBAAkB,CACxB6B,OAAO,CAAEe,SAAA,CAAAb,EAAA,CAAMC,QAAQ,CAACb,IAAI,CAACc,OAC/B,CAAC,CAAC,CAAC,yBAAAW,SAAA,CAAAV,IAAA,MAAAO,QAAA,iBAEN,mBAAAI,GAAA,SAAAL,KAAA,CAAAJ,KAAA,MAAAC,SAAA,UAED;AAEA,MAAO,IAAM,CAAAS,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,oCAAAC,KAAA,CAAAnC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAAkC,SAAOhC,QAAQ,MAAAiC,gBAAA,CAAA9B,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAA8B,UAAAC,SAAA,iBAAAA,SAAA,CAAA5B,IAAA,CAAA4B,SAAA,CAAA3B,IAAA,SAAA2B,SAAA,CAAA5B,IAAA,GAEzCP,QAAQ,CAAC,CAAES,IAAI,CAAEtB,iBAAkB,CAAC,CAAC,CAACgD,SAAA,CAAA3B,IAAA,SAEf,CAAA7B,KAAK,CAACyD,GAAG,CAAC,YAAY,CAAC,QAAAH,gBAAA,CAAAE,SAAA,CAAAvB,IAAA,CAAtCT,IAAI,CAAA8B,gBAAA,CAAJ9B,IAAI,CACZH,QAAQ,CAAC,CACPS,IAAI,CAAErB,iBAAiB,CACvByB,OAAO,CAAEV,IAAI,CAACW,IAChB,CAAC,CAAC,CAACqB,SAAA,CAAA3B,IAAA,iBAAA2B,SAAA,CAAA5B,IAAA,GAAA4B,SAAA,CAAApB,EAAA,CAAAoB,SAAA,aAEHnC,QAAQ,CAAC,CACPS,IAAI,CAAEpB,cAAc,CACpBwB,OAAO,CAAEsB,SAAA,CAAApB,EAAA,CAAMC,QAAQ,CAACb,IAAI,CAACc,OAC/B,CAAC,CAAC,CAAC,yBAAAkB,SAAA,CAAAjB,IAAA,MAAAc,QAAA,gBAEN,mBAAAK,GAAA,SAAAN,KAAA,CAAAX,KAAA,MAAAC,SAAA,UAED;AAEA,MAAO,IAAM,CAAAiB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,oCAAAC,KAAA,CAAA3C,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAA0C,SAAOxC,QAAQ,SAAAH,mBAAA,GAAAO,IAAA,UAAAqC,UAAAC,SAAA,iBAAAA,SAAA,CAAAnC,IAAA,CAAAmC,SAAA,CAAAlC,IAAA,SAAAkC,SAAA,CAAAnC,IAAA,GAAAmC,SAAA,CAAAlC,IAAA,SAErC,CAAA7B,KAAK,CAACyD,GAAG,CAAC,gBAAgB,CAAC,QACjCpC,QAAQ,CAAC,CACPS,IAAI,CAAEnB,cACR,CAAC,CAAC,CAACoD,SAAA,CAAAlC,IAAA,gBAAAkC,SAAA,CAAAnC,IAAA,GAAAmC,SAAA,CAAA3B,EAAA,CAAA2B,SAAA,aAEH1C,QAAQ,CAAC,CACPS,IAAI,CAAElB,WAAW,CACjBsB,OAAO,CAAE6B,SAAA,CAAA3B,EAAA,CAAMC,QAAQ,CAACb,IAAI,CAACc,OAC/B,CAAC,CAAC,CAAC,wBAAAyB,SAAA,CAAAxB,IAAA,MAAAsB,QAAA,gBAEN,mBAAAG,GAAA,SAAAJ,KAAA,CAAAnB,KAAA,MAAAC,SAAA,UAED;AACA,MAAO,IAAM,CAAAuB,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,oCAAAC,KAAA,CAAAjD,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAS,SAAAgD,SAAO9C,QAAQ,SAAAH,mBAAA,GAAAO,IAAA,UAAA2C,UAAAC,SAAA,iBAAAA,SAAA,CAAAzC,IAAA,CAAAyC,SAAA,CAAAxC,IAAA,SAC9CR,QAAQ,CAAC,CACPS,IAAI,CAAE1B,YACR,CAAC,CAAC,CAAC,wBAAAiE,SAAA,CAAA9B,IAAA,MAAA4B,QAAA,GACJ,mBAAAG,GAAA,SAAAJ,KAAA,CAAAzB,KAAA,MAAAC,SAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}