{"ast":null,"code":"import _slicedToArray from\"/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useAlert}from\"react-alert\";import Loader from\"../layout/Loader\";import MetaData from\"../layout/MetaData\";import{Link,useNavigate}from\"react-router-dom\";import{login,clearErrors}from\"../../actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var alert=useAlert();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),isAuthenticated=_useSelector.isAuthenticated,error=_useSelector.error,loading=_useSelector.loading;var navigate=useNavigate();useEffect(function(){if(isAuthenticated){navigate(\"/\");}if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,isAuthenticated,navigate,error]);var submitHandler=function submitHandler(e){e.preventDefault();dispatch(login(email,password));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg \",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_field\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email_field\",className:\"form-control\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Link,{to:\"/password/forgot\",className:\"float-right mb-4\",children:\"Forgot Password?\"}),/*#__PURE__*/_jsx(\"button\",{id:\"login_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"float-right mt-3\",children:\"New User?\"})]})})})]})})});};export default Login;","map":{"version":3,"names":["React","Fragment","useState","useEffect","useDispatch","useSelector","useAlert","Loader","MetaData","Link","useNavigate","login","clearErrors","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","alert","dispatch","_useSelector","state","auth","isAuthenticated","error","loading","navigate","submitHandler","e","preventDefault","children","title","className","onSubmit","htmlFor","type","id","value","onChange","target","to"],"sources":["/Users/anyagapyuk/Desktop/nature-aestethic/frontend/myapp/src/components/user/Login.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useAlert } from \"react-alert\";\nimport Loader from \"../layout/Loader\";\nimport MetaData from \"../layout/MetaData\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { login, clearErrors } from \"../../actions/userActions\";\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const alert = useAlert();\n  const dispatch = useDispatch();\n\n  const { isAuthenticated, error, loading } = useSelector(\n    (state) => state.auth\n  );\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(\"/\");\n    }\n\n    if (error) {\n      alert.error(error);\n      dispatch(clearErrors());\n    }\n  }, [dispatch, alert, isAuthenticated, navigate, error]);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password));\n  };\n\n  return (\n    <div>\n      <Fragment>\n        {loading ? (\n          <Loader />\n        ) : (\n          <Fragment>\n            <MetaData title={\"Login\"} />\n            <div className=\"row wrapper\">\n              <div className=\"col-10 col-lg-5\">\n                <form className=\"shadow-lg \" onSubmit={submitHandler}>\n                  <h1 className=\"mb-3\">Login</h1>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"email_field\">Email</label>\n                    <input\n                      type=\"email\"\n                      id=\"email_field\"\n                      className=\"form-control\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor=\"password_field\">Password</label>\n                    <input\n                      type=\"password\"\n                      id=\"password_field\"\n                      className=\"form-control\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                  </div>\n\n                  <Link to=\"/password/forgot\" className=\"float-right mb-4\">\n                    Forgot Password?\n                  </Link>\n\n                  <button\n                    id=\"login_button\"\n                    type=\"submit\"\n                    className=\"btn btn-block py-3\"\n                  >\n                    LOGIN\n                  </button>\n\n                  <Link to=\"/register\" className=\"float-right mt-3\">\n                    New User?\n                  </Link>\n                </form>\n              </div>\n            </div>\n          </Fragment>\n        )}\n      </Fragment>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}